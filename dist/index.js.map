{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 13cfb4029958db50d120","webpack:///./src/index.js","webpack:///./src/vector.js","webpack:///external \"gl-matrix-vec3\"","webpack:///external \"object-assign\"","webpack:///external \"event-emitter\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"gl-matrix-vec3\"), require(\"object-assign\"), require(\"event-emitter\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"gl-matrix-vec3\", \"object-assign\", \"event-emitter\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dolly\"] = factory(require(\"gl-matrix-vec3\"), require(\"object-assign\"), require(\"event-emitter\"));\n\telse\n\t\troot[\"Dolly\"] = factory(root[\"gl-matrix-vec3\"], root[\"object-assign\"], root[\"event-emitter\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 13cfb4029958db50d120\n **/","'use strict';\n\n//dependencies\nvar Vector = require('./vector');\nvar assign = require('object-assign'); //todo: use babel\nvar eventEmitter = require('event-emitter');\n\nvar propId = 0;\n\n//scratch vectors so we don't have to re-allocate all the time (too slow)\nvar scratch = new Vector();\nvar totalWeight = new Vector();\n\nfunction makeVector(arg) {\n\tfunction V() {\n\t\treturn Vector.apply(this, arg);\n\t}\n\n\tif (typeof arg === 'number') {\n\t\treturn new Vector(arg, arg, arg);\n\t}\n\n\tif (Array.isArray(arg)) {\n\t\tV.prototype = Vector.prototype;\n\t\treturn new V();\n\t}\n\n\tif (arg instanceof Vector) {\n\t\treturn Vector.clone(arg);\n\t}\n\n\tif (arg && typeof arg === 'object') {\n\t\treturn new Vector(arg.x || 0, arg.y || 0, arg.z || 0);\n\t}\n\n\treturn new Vector();\n}\n\nfunction safeDivide(a, b) {\n\tvar va = a.vec,\n\t\tvb = b.vec,\n\t\ti,\n\t\tdenom;\n\tfor (i = 0; i <3; i++) {\n\t\tdenom = vb[i];\n\t\tif (denom) {\n\t\t\tva[i] = va[i] / denom;\n\t\t}\n\t}\n}\n\nfunction Prop(opts) {\n\tvar options = opts || {};\n\n\tthis.lastUpdate = -1;\n\tthis.id = propId++;\n\n\tthis.name = options.name || 'prop' + this.id;\n\n\tthis.position = makeVector(options.position);\n\tthis.minBounds = makeVector(options.minBounds === undefined ? -Infinity : options.minBounds);\n\tthis.maxBounds = makeVector(options.maxBounds === undefined ? Infinity : options.maxBounds);\n\tthis.lag = typeof options.lag === 'number' && !isNaN(options.lag) ? options.lag : 0;\n\tthis.maxSpeed = typeof options.maxSpeed === 'number' && !isNaN(options.maxSpeed) ? options.maxSpeed : Infinity;\n\n\tthis.goal = new Vector();\n\tthis.attractorGoal = new Vector();\n\tthis.velocity = new Vector();\n\tthis.lastPosition = Vector.clone(this.position);\n\tthis.targets = [];\n\tthis.attractors = [];\n\n\teventEmitter(this);\n}\n\nProp.prototype.follow = function (prop, options) {\n\tvar target;\n\tvar self = this;\n\tvar weight;\n\n\tif (Array.isArray(prop)) {\n\t\tprop.forEach(function (p) {\n\t\t\tself.follow(p, options);\n\t\t});\n\t\treturn;\n\t}\n\n\tif (!(prop instanceof Prop)) {\n\t\tthrow new Error('Attempt to follow object that is not a Prop');\n\t}\n\n\tweight = options && options.weight;\n\tif (weight === undefined || isNaN(weight) && typeof weight === 'number') {\n\t\tweight = 1;\n\t}\n\n\ttarget = assign(\n\t\t{\n\t\t\tradius: 0,\n\t\t\t// minDistance: 0, //not implemented yet\n\t\t\t// maxDistance: Infinity, //not implemented yet\n\t\t\tweight: 1\n\t\t},\n\t\toptions,\n\t\t{\n\t\t\tprop: prop,\n\t\t\tweight: makeVector(weight),\n\t\t\toffset: makeVector(options && options.offset),\n\t\t\toffsetPosition: new Vector()\n\t\t}\n\t);\n\n\tthis.targets.push(target);\n\n\treturn this;\n};\n\nProp.prototype.attract = function (prop, subject, options) {\n\tvar attractor;\n\tvar self = this;\n\n\tif (Array.isArray(prop)) {\n\t\tprop.forEach(function (p) {\n\t\t\tself.attract(p, options);\n\t\t});\n\t\treturn;\n\t}\n\n\tif (!(prop instanceof Prop) || !(subject instanceof Prop)) {\n\t\tthrow new Error('Attempt to follow object that is not a Prop');\n\t}\n\n\tattractor = assign(\n\t\t{\n\t\t\tinnerRadius: 0,\n\t\t\touterRadius: 0,\n\t\t\tweight: 1\n\t\t},\n\t\toptions,\n\t\t{\n\t\t\tprop: prop, //the object that moves\n\t\t\tsubject: subject, //the point of interest\n\t\t\toffset: makeVector(options && options.offset),\n\t\t\toffsetPosition: new Vector(),\n\t\t\tattraction: 0\n\t\t}\n\t);\n\n\tthis.attractors.push(attractor);\n\n\treturn this;\n};\n\nProp.prototype.update = function (delta, tick) {\n\tvar totalAttractionWeight = 0;\n\tvar totalAttraction = 0;\n\n\t//prevent infinite loops if follower graph is cyclical\n\tif (this.lastUpdate >= tick || tick === undefined) {\n\t\treturn;\n\t}\n\n\tthis.lastUpdate = tick;\n\n\tthis.lastPosition.copyVector(this.position);\n\n\tthis.emit('updatestart', this.position);\n\n\tif (!this.targets.length && !this.attractors.length) {\n\t\treturn;\n\t}\n\n\tthis.attractorGoal.zero();\n\tthis.attractors.forEach((attractor) => {\n\t\tvar distance;\n\t\tvar attraction = 0;\n\t\tvar lastAttraction = attractor.attraction;\n\n\t\tattractor.prop.update(delta, tick);\n\t\tattractor.subject.update(delta, tick);\n\n\t\tdistance = attractor.prop.position.distance(attractor.subject.position);\n\t\tif (distance < attractor.outerRadius) {\n\t\t\tattraction = Math.min(1, (attractor.outerRadius - distance) / (attractor.outerRadius - attractor.innerRadius));\n\t\t\ttotalAttraction = Math.max(totalAttraction, attraction * attractor.weight);\n\t\t\ttotalAttractionWeight += attractor.weight;\n\n\t\t\tattractor.offsetPosition.copyVector(attractor.subject.position).add(attractor.offset);\n\t\t\tthis.attractorGoal.scaleAndAdd(attractor.offsetPosition, attractor.weight);\n\n\t\t\tattractor.attraction = attraction;\n\t\t\tif (!lastAttraction) {\n\t\t\t\tthis.emit('enterattractor', attractor.prop, attractor.subject, attraction);\n\t\t\t} else if (lastAttraction !== attraction) {\n\t\t\t\tthis.emit('moveattractor', attractor.prop, attractor.subject, attraction);\n\t\t\t}\n\t\t} else if (attractor.attraction) {\n\t\t\tattractor.attraction = attraction;\n\t\t\tthis.emit('leaveattractor', attractor.prop, attractor.subject);\n\t\t}\n\t});\n\tif (totalAttractionWeight) {\n\t\tthis.attractorGoal.scale(1 / totalAttractionWeight);\n\t}\n\n\ttotalWeight.zero();\n\tthis.goal.zero();\n\tif (totalAttraction < 1) {\n\t\tthis.targets.forEach((target) => {\n\t\t\tvar distance;\n\n\t\t\ttarget.prop.update(delta, tick);\n\n\t\t\ttarget.offsetPosition.copyVector(target.prop.position).add(target.offset);\n\n\t\t\tscratch.copyVector(target.offsetPosition).subtract(this.position); //vector towards target\n\n\t\t\ttarget.offsetPosition.copyVector(this.position);\n\t\t\tdistance = scratch.length();\n\t\t\tif (distance > target.radius) {\n\t\t\t\tscratch.normalize().scale(distance - target.radius);\n\t\t\t\ttarget.offsetPosition.add(scratch);\n\t\t\t}\n\n\t\t\ttarget.offsetPosition.multiply(target.weight);\n\t\t\tthis.goal.add(target.offsetPosition);\n\t\t\ttotalWeight.add(target.weight);\n\t\t});\n\t\tif (totalWeight.length()) {\n\t\t\tsafeDivide(this.goal, totalWeight);\n\t\t}\n\t\tif (totalAttraction) {\n\t\t\tthis.goal.lerp(this.attractorGoal, totalAttraction);\n\t\t}\n\t} else {\n\t\tthis.goal.copyVector(this.attractorGoal);\n\t}\n\n\tthis.velocity.copyVector(this.goal).subtract(this.position);\n\tif (this.lag) {\n\t\tthis.velocity.scale(Math.pow(delta, this.lag));\n\t}\n\n\t//cap velocity to maxSpeed\n\tif (this.maxSpeed && this.maxSpeed < Infinity && this.maxSpeed < this.velocity.length()) {\n\t\tthis.velocity.normalize().scale(this.maxSpeed);\n\t}\n\n\tthis.emit('update', this.position, this.velocity);\n\n\tthis.position.add(this.velocity);\n\n\t//fit within bounds\n\tthis.position.min(this.maxBounds).max(this.minBounds);\n\n\tthis.emit('updated', this.position);\n\n\treturn this;\n};\n\nProp.prototype.active = function (epsilon) {\n\treturn this.position.distance(this.lastPosition) > (epsilon || 0.00001);\n};\n\nfunction Dolly() {\n\tvar tick = -1;\n\tvar props = [];\n\tvar updating = false;\n\tvar self = this;\n\n\tthis.update = function (delta) {\n\t\tif (updating) {\n\t\t\treturn;\n\t\t}\n\t\tupdating = true;\n\n\t\ttick++;\n\t\tprops.forEach(function (prop) {\n\t\t\tprop.update(delta, tick);\n\t\t});\n\n\t\tupdating = false;\n\n\t\treturn self;\n\t};\n\n\tthis.prop = function (options) {\n\t\tvar prop = new Prop(options);\n\t\tprops.push(prop);\n\t\treturn prop;\n\t};\n\n\tthis.active = function (epsilon) {\n\t\tvar i;\n\t\tfor (i = 0; i < props.length; i++) {\n\t\t\tif (props[i].active(epsilon)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n}\n\nmodule.exports = Dolly;\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/index.js\n **/","'use strict';\n\n//dependencies\nvar vec3 = require('gl-matrix-vec3');\n\nfunction Vector(x, y, z) {\n\tthis.vec = vec3.fromValues(x || 0, y || 0, z || 0);\n\n\tObject.defineProperties(this, {\n\t\tx: {\n\t\t\twriteable: true,\n\t\t\tenumerable: true,\n\t\t\tget: () => this.vec[0],\n\t\t\tset: (val) => this.vec[0] = val\n\t\t},\n\t\ty: {\n\t\t\twriteable: true,\n\t\t\tenumerable: true,\n\t\t\tget: () => this.vec[1],\n\t\t\tset: (val) => this.vec[1] = val\n\t\t},\n\t\tz: {\n\t\t\twriteable: true,\n\t\t\tenumerable: true,\n\t\t\tget: () => this.vec[2],\n\t\t\tset: (val) => this.vec[2] = val\n\t\t}\n\t});\n}\n\nVector.prototype.toString = function() {\n\treturn vec3.str(this.vec);\n};\n\nVector.prototype.clone = function (v) {\n\treturn new Vector(v.x, v.y, v.z);\n};\n\nVector.prototype.copy = function (v) {\n\tif (v instanceof Vector) {\n\t\tvec3.copy(this.vec, v.vec);\n\t} else if (typeof v === 'object' && v) {\n\t\tthis.set(v.x || 0, v.y || 0, v.z || 0);\n\t}\n\treturn this;\n};\n\nVector.prototype.copyVector = function (v) {\n\tvec3.copy(this.vec, v.vec);\n\treturn this;\n};\n\nVector.prototype.zero = function () {\n\tvec3.set(this.vec, 0, 0, 0);\n\treturn this;\n};\n\nVector.prototype.set = function (x, y, z) {\n\tvec3.set(this.vec, x, y, z);\n\treturn this;\n};\n\nVector.prototype.negate = function () {\n\tvec3.negate(this.vec, this.vec);\n\treturn this;\n};\n\nVector.prototype.normalize = function () {\n\tvec3.normalize(this.vec, this.vec);\n\treturn this;\n};\n\nVector.prototype.scale = function (scale) {\n\tvec3.scale(this.vec, this.vec, scale);\n\treturn this;\n};\n\nVector.prototype.scaleAndAdd = function (v, scale) {\n\tvec3.scaleAndAdd(this.vec, this.vec, v.vec, scale);\n\treturn this;\n};\n\nVector.prototype.lerp = function (v, t) {\n\tvec3.lerp(this.vec, this.vec, v.vec, t);\n\treturn this;\n};\n\n//wrap functions that operate on `this` and another vector\n[\n\t'add',\n\t'cross',\n\t'divide',\n\t'max',\n\t'min',\n\t'multiply',\n\t'subtract'\n].forEach(function (key) {\n\tvar fn = vec3[key];\n\tVector.prototype[key] = function (v) {\n\t\tfn(this.vec, this.vec, v.vec);\n\t\treturn this;\n\t};\n});\n\nVector.prototype.length = function () {\n\treturn vec3.length(this.vec);\n};\n\nVector.prototype.squaredLength = function () {\n\treturn vec3.squaredLength(this.vec);\n};\n\n//wrap functions that return a number based on this and another vector\n[\n\t'distance',\n\t'dot',\n\t'squaredDistance'\n].forEach(function (key) {\n\tvar fn = vec3[key];\n\tVector.prototype[key] = function (v) {\n\t\treturn fn(this.vec, v.vec);\n\t};\n});\n\nVector.fromArray = function (array) {\n\treturn new Vector.apply(null, array);\n};\n\nVector.clone = function (v) {\n\treturn new Vector(v.x, v.y, v.z);\n};\n\nmodule.exports = Vector;\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/vector.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"gl-matrix-vec3\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"object-assign\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"event-emitter\"\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}